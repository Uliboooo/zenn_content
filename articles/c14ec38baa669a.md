---
title: "limaを使ってarch linux(arm ver.)をm3 macに構築"
emoji: "🐧"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: ["linux","arch","lima"]
published: false
---

環境構築のメモです。

## install lima

https://lima-vm.io/docs/installation/

```zsh
brew install lima
```

## start arch

とりあえず現在の設定で。

使用できるosは以下のページで確認できる。有名&ちょっと前のとかの方がtier(安定度)が高い。

>## Tier
>"Tier 1" (marked with ⭐): Good stability. Regularly tested on the CI.
>"Tier 2" (marked with ☆): Moderate stability. Regularly tested on the CI.
>Other templates are tested only occasionally and manually.

https://lima-vm.io/docs/templates/

```zsh
❯ limactl start # <- これで下に選択メニューが出るので`Choose another template`を選択してdistroを選ぶ
```

しばらく待つと勝手にセットアップがされる。

## linuxに入る

https://lima-vm.io/docs/usage/

以下コマンドでシェルのような形でlinuxに入れる。ユーザはおそらくmac上のユーザ名がそのまま使われる。最初はpwdがないので後で設定する予定。

```zsh
lima
```

### ssh経由で

ローカル内でsshを使って入ることもできる。

```zsh
ssh -F /Users/[user-name]/.lima/default/ssh.config lima-default
```

## パスワードをつける

ローカルとはいえネットも繋がるので一応。

### current pwdがわからない

`sudo`使えばできた。

```bash
sudo passwd [user-name]
```
