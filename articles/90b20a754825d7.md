---
title: "rustã§ã®è‡ªä½œãƒ„ãƒ¼ãƒ«ã‚’HomeBrewã«ç™»éŒ²ã—ã¦ã¿ãŸ"
emoji: "ğŸº"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["rust", "homebrew", "cli"]
published: false
---

## Track2lineã¨ã¯

ä»¥å‰zennã§ã‚‚ç´¹ä»‹è¨˜äº‹ã‚’æ›¸ãã¾ã—ãŸãŒã€Track2line(cli)ã‚’HomeBrewã«å…¬é–‹ã—ã¦ã¿ãŸå‚™å¿˜éŒ²ã§ã™ã€‚

https://zenn.dev/uliboooo/articles/5a1cf3772bf9c0

> voisona Talkç­‰ã§å‡ºåŠ›ã•ã‚ŒãŸéŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ«ã®åå‰ã‚’ã€åŒåã®ã‚»ãƒªãƒ•ã‚’å«ã‚€ãƒ†ã‚­ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‚ç…§ã—ã¦å¤‰æ›ã™ã‚‹ãƒ„ãƒ¼ãƒ«ã§ã™ã€‚

https://github.com/Uliboooo/track2line

## å¤§ã¾ã‹ãªæµã‚Œ

1. å®Ÿè¡Œãƒ•ã‚¡ã‚¤ãƒ«ã®ä½œæˆ
2. ã‚½ãƒ¼ã‚¹ç®¡ç†ç”¨ã®ãƒªãƒã‚¸ãƒˆãƒªã‚’ä½œæˆ
3. ãƒªãƒªãƒ¼ã‚¹ä½œæ¥­
4. HomeBrewå‡ºã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ç”¨ã®ãƒªãƒã‚¸ãƒˆãƒªã‚’ä½œæˆ
5. `Formula`ãƒ•ã‚¡ã‚¤ãƒ«(ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ‰‹é †)ã‚’ä½œæˆ

## å®Ÿè¡Œãƒ•ã‚¡ã‚¤ãƒ«ã®ä½œæˆ

ä¸€å¿œreleaseãƒšãƒ¼ã‚¸ã«ã‚‚ã‚ã‚‹ãŒæ‰‹å…ƒã§ç”Ÿæˆã€‚å®Ÿè¡Œãƒ•ã‚¡ã‚¤ãƒ«åã¯ã‚³ãƒãƒ³ãƒ‰åã¨åŒã˜ã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚‹ã‚‰ã—ã„ã€‚

```zsh
cargo build --release
```

ã¾ãŸã€sha256ã®ãƒãƒƒã‚·ãƒ¥å€¤ãŒå¿…è¦ã‚‰ã—ã„ã€‚

```zsh
shasum -a 256 ./target/release/track2line
# 012d0e6c33504ad19b4a00d1c5d1825e6880348f0f8fffbbc93c240bcb4412fb  ./target/release/track2line
```

ã¾ãŸã€ãƒªãƒªãƒ¼ã‚¹å¾Œã®å®Ÿè¡Œãƒ•ã‚¡ã‚¤ãƒ«ã®urlã‚‚å¿…è¦ã ãã†ãªã®ã§ã‚³ãƒ”ãƒ¼ã€‚

`https://github.com/Uliboooo/track2line/releases/download/v0.12.1/track2line_mac_arm_v0_12_1`

>ã“ã“ã§ç–‘å•ãªã®ãŒä»Šã¯arm-macå‘ã‘ã—ã‹ã‚³ãƒ”ãƒ¼ã—ã¦ãªã„ã‘ã‚Œã©ã€ã“ã‚Œã¯ã‚‚ã—ã‹ã—ã¦ãƒªãƒªãƒ¼ã‚¹ã—ã¦ã‚‹åˆ†å…¨éƒ¨ãŒå¿…è¦ã«ãªã‚‹?

## ã‚½ãƒ¼ã‚¹ç®¡ç†ãƒªãƒã‚¸ãƒˆãƒª

ã“ã‚Œã¯æ—¢ã«å…¬é–‹ã—ã¦ã„ã‚‹å…ˆã»ã©ã®ãƒªãƒã‚¸ãƒˆãƒªã§è‰¯ã•ãã†ã€‚

https://github.com/Uliboooo/track2line/releases

## ãƒªãƒªãƒ¼ã‚¹ä½œæ¥­

releaseãƒšãƒ¼ã‚¸ã«å…¬é–‹ã—ã¦ã„ã‚‹ã®ã§å¤§ä¸ˆå¤«ã‹ã¨æ€ã£ãŸã‘ã©ã€ç§ã®å ´åˆREADME.mdã‚’åŒæ¢±ã—ãŸzipã«ã—ã¦å…¬é–‹ã—ã¦ã„ã‚‹ã®ã§ã€ãŠãã‚‰ãbrewã‹ã‚‰èªè­˜ã§ããªãã†ãªã®ã§ã€å±•é–‹ã—ãŸã‚‚ã®ã«å¤‰æ›´ã€‚

## ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ç”¨ã®ãƒªãƒã‚¸ãƒˆãƒªä½œæˆ

ãƒªãƒã‚¸ãƒˆãƒªåã«ã¯brewã«æ‹¾ã£ã¦ã‚‚ã‚‰ã†ãŸã‚ã®è¦å‰‡ãŒã‚ã‚Šã€`homebrew-[command-name]`ã¨ãªã‚‹ã€‚ä»Šå›ã ã¨`homebrew-track2line`ã«ãªã‚‹ã€‚

å€‹äººçš„ã«ã¯å…¥åŠ›ã®ã—ã‚„ã™ã•ã‹ã‚‰`t2l`ã¨ã‹ã§ã‚‚ã„ã„ã‹ã¨æ€ã„ã¾ã™ãŒã€å¯èª­æ€§ä¸‹ãŒã‚Šãã†ãªã®ã§ğŸ‘†ã§ã€‚

https://github.com/Uliboooo/homebrew-track2line

## `Formula`ãƒ•ã‚¡ã‚¤ãƒ«(ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ‰‹é †)ã‚’ä½œæˆ

å…ˆã»ã©ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ç”¨ã®ãƒªãƒã‚¸ãƒˆãƒªã«`Formula`ãƒ•ã‚¡ã‚¤ãƒ«ã‚’è¨­ç½®ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã‚‰ã—ã„ã€‚ã“ã‚Œã‚’å…ƒã«brewãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ä½œæ¥­ãªã©ã‚’ã—ã¦ãã‚Œã‚‹ãã†ã€‚

ãƒ•ã‚¡ã‚¤ãƒ«ã‚’è¨­ç½®ã™ã‚‹ãŸã‚ã«`homebrew-track2line`ãƒªãƒã‚¸ãƒˆãƒªã‚’ã‚¯ãƒ­ãƒ¼ãƒ³ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ãŒã€`brew tap [user-name]/[command-name]`ã§å‹æ‰‹ã«é…ç½®ã•ã‚Œã‚‹ã‚ˆã†ã€‚é…ç½®å ´æ‰€ã¯`/opt/homebrew/Library/Taps/uliboooo/homebrew-track2line`ã«ãªã£ãŸã€‚

ä»Šå›ã ã¨ä»¥ä¸‹ã‚³ãƒãƒ³ãƒ‰ã§å‹æ‰‹ã«ã‚¯ãƒ­ãƒ¼ãƒ³ã•ã‚Œã‚‹ã€‚

```zsh
brew tap Uliboooo/track2line
# ä»¥ä¸‹ã«ã‚³ãƒãƒ³ãƒ‰ã®å‡ºåŠ›ã®ä¸€éƒ¨
==> Tapping uliboooo/track2line
Cloning into '/opt/homebrew/Library/Taps/uliboooo/homebrew-track2line'...
warning: You appear to have cloned an empty repository.
Tapped (2 files, 1.1KB).
```

æ¬¡ã«`Formula`ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é…ç½®ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ãŒã€ã“ã‚Œã‚‚brewã‚³ãƒãƒ³ãƒ‰ã§`brew create`ã§ä½œæˆã§ãã‚‹ãã†ã€‚

ãã†ãªã®ã ãŒã€ãªã‚“ã‹ã‚¨ãƒ©ãƒ¼ã§urlãŒã©ã†ã¨ã‹ã§é¢å€’ãªã®ã§å‚è€ƒã‚µã‚¤ãƒˆã‹ã‚‰ã‚³ãƒ”ãƒšã—ã¦å†…å®¹ã‚’åˆã‚ã›ã‚‹ã€‚

```ruby: track2line.rb
class track2line < Formula
  desc "voisona Talkç­‰ã§å‡ºåŠ›ã•ã‚ŒãŸéŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ«ã®åå‰ã‚’ã€åŒåã®ã‚»ãƒªãƒ•ã‚’å«ã‚€ãƒ†ã‚­ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‚ç…§ã—ã¦å¤‰æ›ã™ã‚‹ãƒ„ãƒ¼ãƒ«ã§ã™ã€‚It is a tool that converts the name of the audio file output by voisona Talk, etc. by referring to a text file containing the lines of the same name."
  homepage "https://github.com/Uliboooo/track2line"
  url "https://github.com/Uliboooo/track2line/releases/download/v0.12.1/track2line_mac_arm_v0_12_1"
  sha256 "012d0e6c33504ad19b4a00d1c5d1825e6880348f0f8fffbbc93c240bcb4412fb"

  def install
    bin.install "hello" # â†å®Ÿè¡Œãƒ•ã‚¡ã‚¤ãƒ«ã‚’å®Ÿè¡ŒPathã«é…ç½®ã™ã‚‹ã‚ˆã®æ„å‘³
  end

  test do
    system "true" # â†æœ¬æ¥ã¯ã“ã“ã«ãƒ†ã‚¹ãƒˆã‚’æ›¸ããŒä»Šå›ã¯ä¸€æ—¦ç„¡è¦–
  end
end
```

ã§ã€commit & pushã€‚

:::details ä¸€å¿œ(ä¸Šæ‰‹ãã„ã‹ãªã‹ã£ãŸ)ã‚³ãƒãƒ³ãƒ‰

```zsh
brew create --tap Uliboooo/track2line
```

ğŸ‘†ã‚’æ‰“ã£ãŸã‚‰ä»¥ä¸‹ã§æ­¢ã¾ã£ãŸã€‚

```zsh
Warning: create is a developer command, so Homebrew's
developer mode has been automatically turned on.
To turn developer mode off, run:
  brew developer off

# ~~~ç•¥~~~
Error: Invalid usage: This command requires exactly 1 url argument.
```

ã©ã†ã‚„ã‚‰brew createã¯é–‹ç™ºè€…å‘ã‘ã‚³ãƒãƒ³ãƒ‰ã ã¨ã„ã†è­¦å‘Šã¨ã¨ã‚‚ã«é–‹ç™ºè€…ãƒ¢ãƒ¼ãƒ‰ã‚’ã‚ªãƒ³ã«ã—ãŸã‚ˆã†ã§ã™ã€‚(è‡ªå‹•ã§)
ã‚¨ãƒ©ãƒ¼ã¯æ™®é€šã«å¼•æ•°ãŒè¶³ã‚Šãªã„?

https://qiita.com/wkentaro/items/d4981582e08b134f1e1d

ãªã©ã‚’ã¿ã¦ã¿ã‚‹ã¨`brew create --set-name`ã¨ã‹ä½¿ã£ã¦ã‚‹ã½ã„ã€‚

:::

## ã‚³ãƒãƒ³ãƒ‰ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«



## å‚è€ƒ

https://qiita.com/hunzy/items/dd5cb3d4a8439b9edb89
