---
title: "å¤‰æ•° ãƒ‡ãƒ¼ã‚¿åž‹ æ¼”ç®—"
---

## å¤‰æ•°ã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ä¸å¤‰

rustã«ãŠã„ã¦å¤‰æ•°ã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ä¸å¤‰(imutable)ã§ã™ã€‚ã“ã‚Œã¯é–¢æ•°åž‹ã®ç‰¹å¾´ã‚’å—ã‘ã¦ãŠã‚Šã€ãƒ‡ãƒ¼ã‚¿ã®ä¸å¤‰æ€§ã«ã‚ˆã‚Šå‡¦ç†ã«ã‚ˆã‚‹å‰¯ä½œç”¨ã‚’æ¸›ã‚‰ã—ã¾ã™ã€‚ã—ã‹ã—ã€ãƒ‡ãƒ¼ã‚¿ã‚’å¤‰æ›´ã—ãŸã„ã“ã¨ã‚‚å¤šã„ã§ã™ã€‚ãã†ã„ã£ãŸéš›ã¯`mut`ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã‚’å¤‰æ•°åã®å‰ã«è¨˜è¿°ã™ã‚‹ã“ã¨ã§ã€å¤‰æ•°ã®å†…å®¹ãŒå¤‰æ›´ã•ã‚Œã‚‹å¯èƒ½æ€§ã‚’ã‚³ãƒ¼ãƒ‰ã‚’ã¿ãŸé–‹ç™ºè€…ã«æ˜Žç¤ºçš„ã«çŸ¥ã‚‰ã›ã¾ã™ã€‚

```rust
let a = 100;
a += 1; // ðŸ‘ˆ ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼ã«ãªã‚‹

// aã®å€¤ã‚’æ›¸ãæ›ãˆãŸã„ã®ãªã‚‰
let mut a = 100;
a += 1; // 101
```

ã¡ãªã¿ã«ã€ŒRusté–‹ç™ºç’°å¢ƒã®æ§‹ç¯‰, tools"ã€ã«ã¦ã™ã§ã«mutableãªå¤‰æ•°ã¯ç™»å ´ã—ã¦ã„ã¾ã™ã€‚

```rust:main.rs
fn main() {
    let mut name = String::new();     // ã“ã“ã§å®šç¾©ã—ãŸå¤‰æ•°ã‚’
    std::io::stdin()                  //       ðŸ‘‡
        .read_line(&mut name)         // ã“ã“ã§read_line()é–¢æ•°ã«ã‚ˆã£ã¦æ›¸ãæ›ãˆ(å…¥åŠ›ã‚’æŸç¸›)ã™ã‚‹
        .expect("Failed read line");
    println!{"Hello, world! {name}"};
}
```

## ãƒ‡ãƒ¼ã‚¿åž‹

rustã¯å¼·ã„é™çš„åž‹ä»˜ã‘ã¨è¨€ã‚ã‚Œã‚‹è¨€èªžã§ã€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã«ã™ã¹ã¦ã®å€¤ã®åž‹ã‚’æ±ºå®šã—ã¾ã™ã€‚ã¾ãŸã€rustc(rustã®ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©)ã¯å¼·åŠ›ãªåž‹æŽ¨è«–ã‚’æŒã£ã¦ãŠã‚Šã€å¤‰æ•°å®£è¨€ã«ãŠã„ã¦å¤šãã®å ´åˆåž‹æ³¨é‡ˆã‚’ã™ã‚‹å¿…è¦ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚rustã§åž‹ã‚’æ›¸ãã®ã¯é–¢æ•°å®šç¾©ã«ãŠã‘ã‚‹å¼•æ•°ã¨æˆ»ã‚Šå€¤ã€æ§‹é€ ä½“ãªã©ã®ãƒ‡ãƒ¼ã‚¿æ§‹é€ è¡¨ç¾ã®å ´åˆã§ã™ã€‚ã¾ãŸé–¢æ•°ã®æˆ»ã‚Šå€¤ã®åž‹ã‹ã‚‰ã‚‚æŽ¨è«–ã—ã¦ãã‚ŒãŸã‚Šã—ã¾ã™ã€‚ãŸã ã—ã€æš—é»™çš„ãªåž‹å¤‰æ›ã¯è¡Œã‚ã‚Œãšã€i32->i64ãªã©ã‚‚è¡Œã‚ã‚Œãªã„ã§ã™ã€‚

:::details ã©ã‚Œã»ã©å¼·åŠ›ã‹

ã“ã“ã§ç¤ºã™ä¾‹ã‚’ä¸€æ—¦markdownä¸Šã§æ›¸ã„ã¦ã„ãŸã®ã§ã™ãŒã“ã®ã‚³ãƒ¼ãƒ‰ã¯ã‚¨ãƒ©ãƒ¼ã«ãªã‚Šã¾ã›ã‚“ã€‚

ä¸€è¦‹`num`ãŒ`i32`ã§`num2`ãŒ`i64`ãªã®ã§ã‚¨ãƒ©ãƒ¼ã«ãªã‚Šãã†ã§ã™ãŒ3è¡Œã§`i64`ã¨åŠ ç®—ã™ã‚‹ã“ã¨ãŒã‚ã‹ã‚‹ã®ã§ã€`num`ã¯`i64`ã¨ã—ã¦æŽ¨è«–ã•ã‚Œã‚‹ã‚ˆã†ã§ã™ã€‚ä»–è¨€èªžã¯çŸ¥ã‚Šã¾ã›ã‚“ãŒã€å‰²ã¨å¼·åŠ›ãªæ–¹ãªã‚“ã§ã™ã‹ã­?

```rust
let num = 100; // ðŸ‘ˆrustcã¯100ã‚’`i32`ã¨æŽ¨è«–ã™ã‚‹
let num2: i64 = 100;
let res = num + num2; //åž‹ãŒé•ã†ã®ã§ã‚¨ãƒ©ãƒ¼ã«ãªã‚‹
```
:::

ã“ã®ã‚³ãƒ¼ãƒ‰ã¯`i32`ã§ã‚ã‚‹`num`ã¨`i64`ã§ã‚ã‚‹`num2`ã‚’åŠ ç®—ã—ã‚ˆã†ã¨ã—ã¦åž‹ãŒåˆã‚ãªã„ãŸã‚ä»¥ä¸‹ã®ã‚¨ãƒ©ãƒ¼ã‚’ç™ºç”Ÿã•ã›ã¾ã™ã€‚

```rust
let num: i32 = 100;
let num2: i64 = 100;
let res = num + num2;
```

```rust
error[E0308]: mismatched types
 --> src/main.rs:6:21
  |
6 |     let res = num + num2;
  |                     ^^^^ expected `i32`, found `i64`

error[E0277]: cannot add `i64` to `i32`
 --> src/main.rs:6:19
  |
6 |     let res = num + num2;
  |                   ^ no implementation for `i32 + i64`
  |
  = help: the trait `Add<i64>` is not implemented for `i32`
  = help: the following other types implement trait `Add<Rhs>`:
            `&i32` implements `Add<i32>`
            `&i32` implements `Add`
            `i32` implements `Add<&i32>`
            `i32` implements `Add`
```